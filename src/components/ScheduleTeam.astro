---
import Layout from '@layouts/Layout.astro'
import SectionTitle from '@components/SectionTitle.astro'
import Container from '@components/Container.astro'
import { getAllMatch } from '@services/scheduleTeam.js'
import ScheduleRow from '@components/ScheduleRow.astro'

const schedule = await getAllMatch()


---

<!-- PÃ¡gina del calendario -->
<Layout title='Calendario'>
	<SectionTitle title='Calendario' />
	<Container>
		<main class='max-w-4xl mx-auto my-4'>
			{
				schedule.map((day) => {
					return (
						<section>
							<h2 class='font-bold text-xl my-8'>{day.round}</h2>
							<table class='w-full'>
								<tbody>
									{day.matches.map((match) => (
										<ScheduleRow
											local={match.teams[0]}
											visitant={match.teams[1]}
											score={match.score}
											date={match.date}
											hour={match.hour}
											/>
											
									))}
								</tbody>
							</table>
						</section>
					)
				})
			}
		</main>
	</Container>
</Layout>